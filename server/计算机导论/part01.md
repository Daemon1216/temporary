# 数据表示与运算 (chapter 2 3 4)

## 数字系统

### 位置化数字系统

1. 底/基数(b)表示：符号集的符号总数，符号常被称为数码；b 的非负数幂与整数部分有关，负数幂与小数有关
   “位置量”：数字中的符号所占据的位置决定了其表示的值。
2. 转换

- 其他进制转换十进制：数码\*位置量求和
  数码的数量：对底数的对数运算的向上取整（恶补下指数、对数公式...）
- 十进制转其他进制：
  整数：商%底 插入目标左边 （理解：除不尽在个位，向高位类推）
  小数：小数\*底 插入目标右边（理解：高位占满，不够再向低位）

### 非位置化数字系统

罗马数字系统

## 数据存储

1. 数据类型：数字、文本、图像、音频、视频
   计算机内部数据：

- 位（存储在计算机的最小单位）
- 位模式（指的是位的序列，也称位流；长度为 8 的位模式成为一个字节 byte；表示更长的位模式叫字。）
  不同数据类型的数据可以用相同的位模式存储在内存中。

2. 存储数字

   2.1 整数：定点表示法

   2.1.1 无符号

   - 溢出
   - 无符号整数应用：计数、寻址、为其他数据类型排序

     2.1.2 符号加绝对值

   - 正数在左，负数在右。
   - 区分正 0 和负 0（如字长 n=4, 0000 为正 0,1000 为负 0）
   - 最左一位符号位（0 正 1 负），其他是数字位
   - 区分正溢出和负溢出
   - 范围（字长 4）：-7 ~ -0, +0 ~ +7
   - 符号加绝对值应用：采样模拟信号、存储部分实数

     2.1.3 二进制补码

   - 反码：正数反码不变，负数反码符号位不变，其他取反
   - 补码：正数补码不变，负数补码等于反码+1
   - 补码仅有一个 0
   - 范围（字长 4）：-8 ~ -1, 0 ~ +7
   - 溢出：负数溢出，正数溢出
   - 4 位存储单元: 0000(0) 0001(1) 0010(2) 0011(3) 0100(4) 0101(5) 0110(6) 0111(7)
     1000(-8) 1001(-7) 1010(-6) 1011(-5) 1100(-4) 1101(-3) 1110(-2) 1111(-1)
   - 补码应用：计算机中用于存储整数
   - 补码减法注意：0-1=1（最高位需要借位同样适用）

     2.2 实数

     2.2.1 浮点表示法（定点表示的局限性）

   - 符号、位移量、定点数 -> 符号 S、指数 E、尾数 M
   - 余码系统：指数用正数存储，偏移量添加到每个数字，将它们移到非负到一边。
   - IEEE 标准：单精度（32 位存储一个浮点表示法的实数，1 位符号位，8 位指数位，23 位尾数。也称余 127 码。） 双精度
   - IEEE 标准浮点格式与数字间转换
     1. 符号位；转换二进制数；规范化；找 S E（+余码） M（尾数长度补全）；表示出来
     2. 符号位；找 S E（长度；-余码） M；尾数去规范；二进制转十进制绝对值；加符号表示
   - 溢出：上溢与下溢（-最大值，-最小值，+最大值，+最小值）
   - 0 的存储：S E M 均为 0
   - 截断误差

     2.3 存储文本

   用位模式存储一个符号。一门语言中位模式的长度，取决于语言集中有多少符号（对数关系）。

   2.4 存储音频

   音频是模拟信号，声音密度随时间变化，不可记录一段时间的所有值。

   2.4.1 采样，采样率

   2.4.2 量化（取整）

   2.4.3 编码（无符号整数 或 符号加绝对值）

   - 每样本位： 为样本分配的位的数量，也叫位深度。
   - 位率 R = 每样本位的数量 B \* 每秒取样本数 S

     2.4.4 声音编码标准

   mp3 格式是用于视频压缩方法的 MPEG 标注的一个修改版。它采用每秒 44100 个样本以及每样本 16 位，再使用人耳无法识别信息的压缩方法进行压缩。这是一种有损压缩。

   2.5 存储图像

   光栅图或矢量图

## 数据运算

1. 逻辑运算

    1.1 位层次的逻辑运算：与，非，或，异或（互斥）

      - 与：有一位为0，输入为0；另一位为1，则输出不变
      - 或：有一位为1，输入为1；另一位为0，则输出不变
      - 异或：输入的一位为1，结果是另一位的取反；另一位为0，则输出不变

    1.2 模式层次上的逻辑运算

      - 运用：修改位模式（第二个输入称为掩码）
        
      1. 与：使指定位复位（置0）
      2. 或：把位模式的指定位置位（置1）
      3. 异或：使位模式指定位反转

2. 移位运算
   2.5.1 光栅图（位图）

   图像也是模拟信号，数据密度（色彩）随空间变化。

   - 采样：扫描
   - 样本：像素
   - 解析度：单位长度或面积的像素数量
   - 色彩深度：表现像素的位的数量
     1. 真彩色：24 位，每个三原色为 8 位。有超过 1600 万种颜色。
     2. 索引色：共 256 种颜色，8 位。
   - 图像编码标准

     2.5.2 矢量图

   解决位图放大失真问题，但不适合存储图像的细微精妙。

   2.6 存储视频

   视频是图像在时间上的表示（帧）。

3. 算术运算(思考：反码/补码概念产生的原因和为什么用补码存储，为什么补码这样操作运算)

   3.1 整数

   - 加法

   | 列     | 进位 | 和  |
   | ------ | ---- | --- |
   | 0 个 1 | 0    | 0   |
   | 1 个 1 | 0    | 1   |
   | 2 个 1 | 1    | 0   |
   | 3 个 1 | 1    | 1   |

   - 减法：转成加法 A - B = A + B 的补码 = A + B 的反码 + 1
