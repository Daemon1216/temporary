# [网络安全-xss攻击、csrf攻击、dos攻击、页面劫持](https://juejin.cn/post/7023881916940025892)

## xss（cross site script）跨站脚本攻击

### 攻击方式

构造恶意链接，诱骗用户点击盗取用户的 cookie 信息

### 类型

#### 反射型

带有诱导性的链接的按钮邮件等

#### 存储型

通常出现在搜索框、留言板、评论区等地方

#### dom 型

### 危害

xss 蠕虫、会话、流量劫持、网站挂马、盗取 cookie

### 防护方法

设置黑名单和白名单、对用户输入进行过滤、入参字符过滤、出参字符转义、设置 httponly、csp策略

## csrf（cross site request forgery）跨站请求伪造

攻击者冒充用户身份执行用户操作

### 漏洞原理

1. 用户登录信任网站在未退出的情况下访问攻击者构造的恶意网站

2. 恶意网站发出访问第三方网站的请求，信任网站收到请求以用户信息访问

3. 攻击者在用户不知情的情况下冒充用户身份访问成功

### 检测漏洞

抓取一个请求包，去掉 referer 字段进行访问，如果访问有效则存在漏洞

### 漏洞危害

盗用用户身份、执行用户操作，修改信息

### 防护方法

1. 设置 referer 字段；但是并不是所有服务器在任何时候都可以接受 referer 字段，所以这个方法存在一定的局限性

2. 设置验证码；在用户操作的过程中设置身份确认的验证码，该方法会很有用，不过验证码频繁的话会影响用户体验

3. 设置 token 值，在用户请求中设置一个随机没有规律的 token 值可以有效的防止攻击者利用漏洞攻击

## 二者区别

csrf 需要用户登录
